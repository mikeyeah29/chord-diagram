var config={svgns:"http://www.w3.org/2000/svg",padding:14},shapeFactory={colors:{neck:"#d8ad88",string:"#000",fret:"#000",finger:"#000",symbols:"#000"},createGuitarNeck:function(t,e,i){var r=document.createElementNS(config.svgns,"rect");return r.setAttribute("width",t-config.padding),r.setAttribute("height",e-i),r.setAttribute("fill",this.colors.neck),r.setAttribute("y",i),r.setAttribute("x",config.padding/2),r},createString:function(t,e,i){var r=document.createElementNS(config.svgns,"rect");return r.setAttribute("x",t),r.setAttribute("y",e),r.setAttribute("height",i),r.setAttribute("width",3),r.setAttribute("fill",this.colors.string),r},createFret:function(t,e,i){var r=document.createElementNS(config.svgns,"path");return t=t+config.padding/2+.5,r.setAttributeNS(null,"d","M "+config.padding/2+" "+e+" L "+t+" "+e),r.setAttributeNS(null,"stroke-width",i),r.setAttributeNS(null,"stroke",this.colors.fret),r},createMarkSymbol:function(t,e,i,r){var n=document.createElementNS(config.svgns,"circle");return n.setAttributeNS(null,"cx",t),n.setAttributeNS(null,"cy",e),n.setAttributeNS(null,"r",i),r&&(n.setAttributeNS(null,"fill","#fff"),n.setAttributeNS(null,"stroke","#000"),n.setAttributeNS(null,"stroke-width",2)),n},muteSymbol:function(t,e,i){console.log("mute symbol");var r=document.createElementNS(config.svgns,"path"),n=document.createElementNS(config.svgns,"path"),s=document.createElementNS(config.svgns,"svg");return r.setAttributeNS(null,"d","M 10 5 L 20 15"),r.setAttributeNS(null,"stroke-width",2),r.setAttributeNS(null,"stroke",this.colors.fret),n.setAttributeNS(null,"d","M 20 5 L 10 15"),n.setAttributeNS(null,"stroke-width",2),n.setAttributeNS(null,"stroke",this.colors.fret),s.setAttributeNS(null,"x",t),s.setAttributeNS(null,"y",e),s.appendChild(r),s.appendChild(n),s}},ChordDiagram=function(t,e){function i(t,e,i){this.svg=null,this.name=t,this.notes=e,this.width=100,this.height=140,this.topMargin=25,this.circleSize=8,this.strings=[{name:"E",notes:["e","f","f#","g","g#"]},{name:"A",notes:["a","a#","b","c","c#"]},{name:"D",notes:["d","d#","e","f","f#"]},{name:"G",notes:["g","g#","a","a#","b"]},{name:"B",notes:["b","c","c#","d","d#"]},{name:"E",notes:["e","f","f#","g","g#"]}],i&&(i.width&&(this.width=i.width),i.height&&(this.height=i.height)),this.renderFromStrings()}return i.prototype.getSvg=function(){return this.svg},i.prototype.appendTo=function(t){t.appendChild(this.svg)},i.prototype.renderFromStrings=function(){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("viewBox","0 0 "+this.width+" "+this.height);var r=e.createGuitarNeck(this.width,this.height,this.topMargin);i.appendChild(r),this.svg=i;for(var n=(this.height-this.topMargin)/4,s=(this.height-this.topMargin)/4,h=this.topMargin,o=0;o<5;o++)0===o?i.appendChild(e.createFret(this.width-t.padding,h,9)):i.appendChild(e.createFret(this.width-t.padding,h,3)),h+=s;var a=this.topMargin-n/2,g=(this.width-t.padding)/5-.5,c=t.padding/2;for(o=0;o<this.strings.length;o++){this.strings[o];var d=e.createString(c,this.topMargin,this.height);i.appendChild(d);var l=this.notes[o];if(!1!==l){var u=c+1.5,p=a+n*l;if(0===l)var f=e.createMarkSymbol(u,p,this.circleSize-2,!0);else if(-1===l){var v=g*o-7;f=e.muteSymbol(v,0,this.circleSize-2,!0),console.log(f)}else f=e.createMarkSymbol(u,p,this.circleSize);i.appendChild(f)}c+=g}},i.prototype.renderFromNotes=function(){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("viewBox","0 0 "+this.width+" "+this.height);var r=e.createGuitarNeck(this.width,this.height,this.topMargin);i.appendChild(r),this.svg=i;for(var n=(this.height-this.topMargin)/4,s=(this.height-this.topMargin)/4,h=this.topMargin,o=0;o<5;o++)0===o?i.appendChild(e.createFret(this.width-t.padding,h,9)):i.appendChild(e.createFret(this.width-t.padding,h,3)),h+=s;var a=this.topMargin-n/2,g=(this.width-t.padding)/5-.5,c=t.padding/2;for(o=0;o<this.strings.length;o++){var d=this.strings[o],l=e.createString(c,this.topMargin,this.height);i.appendChild(l);var u=this.getFretNumberOfNote(d);if(!1!==u){var p=c+1.5,f=a+n*u;if(0===u)var v=e.createMarkSymbol(p,f,this.circleSize-2,!0);else v=e.createMarkSymbol(p,f,this.circleSize);i.appendChild(v)}c+=g}},i.prototype.drawStrings=function(){},i.prototype.drawFrets=function(){},i.prototype.getFretNumberOfNote=function(t){for(var e=0;e<this.notes.length;e++)for(var i=this.notes[e],r=0;r<t.notes.length;r++)if(i===t.notes[r])return r;return!1},i}(config,shapeFactory);